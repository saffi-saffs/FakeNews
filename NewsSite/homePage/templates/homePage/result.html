<!-- homePage/templates/homePage/result.html -->

{% extends 'homePage/homeindex.html' %} {% block result %}
  {% if result %}
<p>{{ result }}</p>
<p>{{ prediction }}</p>
 
<div id="myProgress">
  <div id="myBar"></div>
</div>
 {% endif %}

<script>
    var i = 0;

 var prediction = "{{ prediction|default:0 }}";
move(parseFloat(prediction) * 100);


    function move(uiValue) {
        if (i == 0) {
            i = 1;
            var elem = document.getElementById("myBar");
            var width = 10;
            var id = setInterval(frame, 10);

            function frame() {
                if (width >= uiValue) {
                    clearInterval(id);
                    i = 0;
                } else {
                    width++;
                    elem.style.width = width + "%";
                    elem.innerHTML = width + "%";
                }
            }
        }
    }
</script>

{% endblock %}
